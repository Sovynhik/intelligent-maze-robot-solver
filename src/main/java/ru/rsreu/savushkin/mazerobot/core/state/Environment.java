package ru.rsreu.savushkin.mazerobot.core.state;

import java.util.List;

/**
 * Универсальный интерфейс Окружения (Среды) или Предметной области.
 * <p>Определяет набор правил и функций для навигации в пространстве состояний:
 * начальное состояние, целевое состояние, условия валидности и правила перехода (действия).</p>
 *
 * @param <S> Тип состояния.
 * @param <A> Тип действия.
 */
public interface Environment<S extends State, A extends Action> {
    /**
     * Возвращает начальное состояние системы.
     * @return Начальное состояние.
     */
    S getInitialState();

    /**
     * Возвращает целевое состояние (состояние, к которому стремится решатель).
     * @return Целевое состояние.
     */
    S getGoalState();

    /**
     * Проверяет, является ли заданное состояние валидным в данной среде (например, не выходит ли за границы).
     * @param state Проверяемое состояние.
     * @return {@code true}, если состояние валидно.
     */
    boolean isValid(S state);

    /**
     * Проверяет, достигнуто ли целевое состояние.
     * @param state Текущее состояние.
     * @return {@code true}, если текущее состояние совпадает с целевым.
     */
    boolean isGoal(S state);

    /**
     * Генерирует список всех возможных действий, которые могут быть выполнены из заданного состояния.
     * @param state Текущее состояние.
     * @return Список возможных действий.
     */
    List<A> getPossibleActions(S state);

    /**
     * Применяет заданное действие к исходному состоянию и возвращает результирующее новое состояние.
     * @param state Исходное состояние.
     * @param action Действие, которое нужно применить.
     * @return Новое состояние.
     */
    S applyAction(S state, Action action);
}